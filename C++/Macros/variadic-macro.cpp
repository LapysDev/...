#include <cstdio>

/* ... */
#define concatenate(argument1, argument2) argument1 ## argument2
#define defer(macro, ...) macro(__VA_ARGS__)
#define first(argument, ...) argument
#define second(argument1, argument2, ...) argument2

// ...
#define variadic(...) variadic_overload_select( \
  variadic_arity(first(variadic_niladic_check __VA_ARGS__)()), \
  __VA_ARGS__, \
  variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, variadic_n, \
  variadic_3, variadic_2, variadic_1 \
)(__VA_ARGS__)
# define variadic_arity(argument) defer(second, concatenate(variadic_arity_, argument), any)
#   define variadic_arity_none ~, nil
# define variadic_niladic_check() none
# define variadic_overload(argument1, argument2, argument3, argument4, argument5, argument6, argument7, argument8, argument9, argument10, argument11, argument12, argument13, argument14, argument15, argument16, argument17, argument18, argument19, argument20, argument21, argument22, argument23, argument24, argument25, argument26, argument27, argument28, argument29, argument30, argument31, argument32, argument33, argument34, argument35, argument36, argument37, argument38, argument39, argument40, argument41, argument42, argument43, argument44, argument45, argument46, argument47, argument48, argument49, argument50, argument51, argument52, argument53, argument54, argument55, argument56, argument57, argument58, argument59, argument60, argument61, argument62, argument63, argument64, argument65, argument66, argument67, argument68, argument69, argument70, argument71, argument72, argument73, argument74, argument75, argument76, argument77, argument78, argument79, argument80, argument81, argument82, argument83, argument84, argument85, argument86, argument87, argument88, argument89, argument90, argument91, argument92, argument93, argument94, argument95, argument96, argument97, argument98, argument99, argument100, argument101, argument102, argument103, argument104, argument105, argument106, argument107, argument108, argument109, argument110, argument111, argument112, argument113, argument114, argument115, argument116, argument117, argument118, argument119, argument120, argument121, argument122, argument123, argument124, argument125, argument126, argument127, argument128, argument129, argument130, argument131, argument132, argument133, argument134, argument135, argument136, argument137, argument138, argument139, argument140, argument141, argument142, argument143, argument144, argument145, argument146, argument147, argument148, argument149, argument150, argument151, argument152, argument153, argument154, argument155, argument156, argument157, argument158, argument159, argument160, argument161, argument162, argument163, argument164, argument165, argument166, argument167, argument168, argument169, argument170, argument171, argument172, argument173, argument174, argument175, argument176, argument177, argument178, argument179, argument180, argument181, argument182, argument183, argument184, argument185, argument186, argument187, argument188, argument189, argument190, argument191, argument192, argument193, argument194, argument195, argument196, argument197, argument198, argument199, argument200, argument201, argument202, argument203, argument204, argument205, argument206, argument207, argument208, argument209, argument210, argument211, argument212, argument213, argument214, argument215, argument216, argument217, argument218, argument219, argument220, argument221, argument222, argument223, argument224, argument225, argument226, argument227, argument228, argument229, argument230, argument231, argument232, argument233, argument234, argument235, argument236, argument237, argument238, argument239, argument240, argument241, argument242, argument243, argument244, argument245, argument246, argument247, argument248, argument249, argument250, argument251, argument252, argument253, argument254, argument255, macro, ...) macro
#   define variadic_overload_any(...) variadic_overload(__VA_ARGS__)
#   define variadic_overload_nil(...) variadic_0
#   define variadic_overload_select(arity, ...) concatenate(variadic_overload_, arity)(__VA_ARGS__)

# define variadic_0()                                "[]: no arguments"
# define variadic_1(argument)                        "[" #argument "]: 1 argument"
# define variadic_2(argument1, argument2)            "[" #argument1 ", " #argument2 "]: 2 arguments"
# define variadic_3(argument1, argument2, argument3) "[" #argument1 ", " #argument2 ", " #argument3 "]: 3 arguments"
# define variadic_n(...)                             "[" #__VA_ARGS__ "]: variable arguments"

/* Main */
int main(void) {
    std::puts(variadic());
    std::puts(variadic(A));
    std::puts(variadic(A, B));
    std::puts(variadic(A, B, C));
    std::puts(variadic(A, B, C, D));
}
